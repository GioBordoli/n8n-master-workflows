{
  "meta": {
    "instanceId": "e409ea34548a2afe2dffba31130cd1cf2e98ebe2afaeed2a63caf2a0582d1da0"
  },
  "nodes": [
    {
      "id": "491b237e-9d42-4017-bc80-9301367e4469",
      "name": "Extract from File",
      "type": "n8n-nodes-base.extractFromFile",
      "position": [
        220,
        -80
      ],
      "parameters": {
        "options": {},
        "operation": "binaryToPropery",
        "binaryPropertyName": "={{ Object.keys($binary).first() }}"
      },
      "typeVersion": 1
    },
    {
      "id": "2a7ea7bd-b009-4219-a5da-5d62976185a5",
      "name": "SET OUTPUT FILE NAME",
      "type": "n8n-nodes-base.set",
      "position": [
        -160,
        -80
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "db6b30b5-a420-430b-87ae-a4887bfe9628",
              "name": "binary_key",
              "type": "string",
              "value": "={{ Object.keys($binary).first() }}"
            },
            {
              "id": "8e1643f7-e794-43b2-a5ac-80b6b621b547",
              "name": "output_file_name",
              "type": "string",
              "value": "SET YOUR OUTPUT FILE NAME AND EXTENSION !! (ex: .mp3 or .png)"
            }
          ]
        },
        "includeOtherFields": true
      },
      "typeVersion": 3.4
    },
    {
      "id": "b9e1072b-c9c2-4d5b-a13a-4eed7a920203",
      "name": "Change Binary Data Type",
      "type": "n8n-nodes-base.code",
      "position": [
        440,
        -80
      ],
      "parameters": {
        "jsCode": "const myBuffer = Buffer.from($json.data, 'base64');\n\n$input.item.binary = {\n  [$('SET OUTPUT FILE NAME').last().json.binary_key]: await this.helpers.prepareBinaryData(myBuffer, $('SET OUTPUT FILE NAME').last().json.output_file_name)\n};\n\nreturn $input.item;\n"
      },
      "typeVersion": 2
    },
    {
      "id": "e5fc3b22-3f86-4cef-b0c7-d2f8b7261784",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -320,
        -420
      ],
      "parameters": {
        "color": 3,
        "width": 420,
        "height": 500,
        "content": "### ⚙️ CONFIGURE HERE ⚙️\n\nThis is the main node you need to edit.\n\n1.  **`output_file_name`**: Change this value to the desired file name and extension. The extension is what determines the new MIME type.\n    *   **Example:** To convert to an MP3, set the value to `audio.mp3`.\n    *   **Example:** To ensure a file is treated as a PNG, set it to `image.png`.\n\n2.  **`binary_key`**: This field is dynamic and automatically finds the name of the incoming binary property. **Do not change this.**"
      },
      "typeVersion": 1
    },
    {
      "id": "41ac8c2b-6530-46bc-9153-8b3c312076f9",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        140,
        -340
      ],
      "parameters": {
        "color": 7,
        "width": 480,
        "height": 420,
        "content": "### ⚙️ Core Logic (No Edit Needed)\n\nThese nodes work together to perform the conversion:\n\n1.  **Extract from File:** Converts the binary into text (Base64).\n2.  **Code:** Rebuilds the binary file using the new file name you provided in the previous step.\n\nThis process effectively changes the file's perceived format for other n8n nodes or external services."
      },
      "typeVersion": 1
    },
    {
      "id": "d7de41a8-eb35-4b84-862f-9a2deb438d93",
      "name": "Change Binary MimeType/Extension",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        -520,
        -80
      ],
      "parameters": {
        "inputSource": "passthrough"
      },
      "typeVersion": 1.1
    }
  ],
  "pinData": {},
  "connections": {
    "Extract from File": {
      "main": [
        [
          {
            "node": "Change Binary Data Type",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SET OUTPUT FILE NAME": {
      "main": [
        [
          {
            "node": "Extract from File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Change Binary MimeType/Extension": {
      "main": [
        [
          {
            "node": "SET OUTPUT FILE NAME",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}