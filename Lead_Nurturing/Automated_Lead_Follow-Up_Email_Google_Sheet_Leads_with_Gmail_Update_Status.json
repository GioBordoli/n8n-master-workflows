{
  "nodes": [
    {
      "id": "07cbdd82-2df1-41eb-80f3-cfe762ce1d5e",
      "name": "Trigger: Run Every Day 🕒",
      "type": "n8n-nodes-base.scheduleTrigger",
      "notes": "🔄 This node triggers the workflow every 60 minutes. You can change it to daily or weekly as needed.",
      "position": [
        360,
        500
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "mode": "everyMinute",
              "value": 60
            }
          ]
        }
      },
      "notesInFlow": true,
      "typeVersion": 1.2
    },
    {
      "id": "ae48ba04-d428-4aa3-9212-fb49af92c7ae",
      "name": "Fetch Leads from Google Sheet 📄",
      "type": "n8n-nodes-base.googleSheets",
      "notes": "📥 This node reads data from your Google Sheet — it should contain leads with name, email, and status.",
      "position": [
        600,
        500
      ],
      "parameters": {
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "notesInFlow": true,
      "typeVersion": 4.5
    },
    {
      "id": "if-filter-new",
      "name": "Filter Only New Leads 🔍",
      "type": "n8n-nodes-base.if",
      "notes": "✅ This checks if the lead's status is 'New'. Only these leads will be emailed. Others are skipped.",
      "position": [
        800,
        500
      ],
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json[\"Status\"]}}",
              "value2": "New",
              "operation": "equals"
            }
          ]
        }
      },
      "notesInFlow": true,
      "typeVersion": 1
    },
    {
      "id": "166afe50-aa7b-4e46-8ebc-bd964d670e34",
      "name": "Batch Process Leads 🔁",
      "type": "n8n-nodes-base.splitInBatches",
      "notes": "⚙️ This helps process leads one-by-one or in small chunks. Useful for rate-limited services like Gmail.",
      "position": [
        1000,
        500
      ],
      "parameters": {
        "options": {}
      },
      "notesInFlow": true,
      "typeVersion": 3
    },
    {
      "id": "0284614d-d43e-42a1-85cf-2677e06fc1f4",
      "name": "Send Email to Lead ✉️",
      "type": "n8n-nodes-base.gmail",
      "notes": "📨 This node sends personalized emails using Gmail. You can use {{Name}}, {{Email}} in your content.",
      "position": [
        1220,
        420
      ],
      "webhookId": "ad8c804e-857d-4a94-b722-65b0776f1d10",
      "parameters": {
        "options": {}
      },
      "notesInFlow": true,
      "typeVersion": 2.1
    },
    {
      "id": "62e831c3-c67c-4b0c-a0bd-5e4a8fcb23f6",
      "name": "Mark Lead as Contacted ✅",
      "type": "n8n-nodes-base.googleSheets",
      "notes": "📝 This updates the same Google Sheet to mark the lead as 'Contacted' so it won’t be processed again.",
      "position": [
        1420,
        500
      ],
      "parameters": {
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": ""
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": ""
        }
      },
      "notesInFlow": true,
      "typeVersion": 4.5
    }
  ],
  "connections": {
    "Batch Process Leads 🔁": {
      "main": [
        [],
        [
          {
            "node": "Send Email to Lead ✉️",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Email to Lead ✉️": {
      "main": [
        [
          {
            "node": "Mark Lead as Contacted ✅",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter Only New Leads 🔍": {
      "main": [
        [
          {
            "node": "Batch Process Leads 🔁",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Mark Lead as Contacted ✅": {
      "main": [
        [
          {
            "node": "Batch Process Leads 🔁",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Trigger: Run Every Day 🕒": {
      "main": [
        [
          {
            "node": "Fetch Leads from Google Sheet 📄",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Leads from Google Sheet 📄": {
      "main": [
        [
          {
            "node": "Filter Only New Leads 🔍",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}